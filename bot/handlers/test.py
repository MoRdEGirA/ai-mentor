from telegram import Update, InlineKeyboardMarkup, InlineKeyboardButton
from telegram.ext import ContextTypes
from state import Q1, Q2, Q3, Q4, Q5, Q6, Q7, Q8, Q9, TEST_DONE
import httpx
from config import API_BASE_URL

questions = [
    {
        "text": "1. С каким природным явлением вы бы сравнили своё настроение?",
        "options": {
            "Солнце": {"стресс": 0, "тревожность": 0, "позитив": 3, "энергия": 2},
            "Дождь": {"стресс": 1, "тревожность": 1, "позитив": 1, "энергия": 0},
            "Туман": {"стресс": 1, "тревожность": 2, "позитив": 0, "энергия": -1},
            "Раскаты грома": {"стресс": 2, "тревожность": 1, "позитив": 0, "энергия": -1}
        }
    },
    {
        "text": "2. Чем вы обычно занимаетесь перед сном?",
        "options": {
            "Читаю или обнимаю": {"стресс": 0, "тревожность": 0, "позитив": 3, "энергия": 1},
            "Анализирую день": {"стресс": 1, "тревожность": 1, "позитив": 2, "энергия": 0},
            "Заканчиваю работу": {"стресс": 2, "тревожность": 1, "позитив": 0, "энергия": -1},
            "Принимаю снотворное": {"стресс": 2, "тревожность": 2, "позитив": 0, "энергия": -2}
        }
    },
    {
        "text": "3. Что вы заметили за последние месяцы?",
        "options": {
            "Жизнь изменилась": {"стресс": 1, "тревожность": 1, "позитив": 1, "энергия": 0},
            "Меланхолия и уныние": {"стресс": 2, "тревожность": 2, "позитив": 0, "энергия": -1},
            "Жизнь складывается гладко": {"стресс": 0, "тревожность": 0, "позитив": 3, "энергия": 1},
            "Тяжело, но не сдаюсь": {"стресс": 1, "тревожность": 1, "позитив": 2, "энергия": 1}
        }
    },
    {
        "text": "4. Каким вы видите себя через 10 лет?",
        "options": {
            "Жизнь удалась": {"стресс": 0, "тревожность": 0, "позитив": 3, "энергия": 2},
            "Тревожусь о будущем": {"стресс": 1, "тревожность": 2, "позитив": 0, "энергия": -1},
            "Буду счастлив(а)": {"стресс": 0, "тревожность": 0, "позитив": 2, "энергия": 1},
            "Мне будет тяжело": {"стресс": 2, "тревожность": 2, "позитив": 0, "энергия": -2}
        }
    },
    {
        "text": "5. Что вам ближе?",
        "options": {
            "Не сплю из-за внешних событий": {"стресс": 2, "тревожность": 1, "позитив": 0, "энергия": -1},
            "Превращаю жизнь в фильм ужасов": {"стресс": 2, "тревожность": 2, "позитив": 0, "энергия": -1},
            "Думаю о себе": {"стресс": 0, "тревожность": 0, "позитив": 2, "энергия": 1},
            "Просыпаюсь целый день": {"стресс": 1, "тревожность": 1, "позитив": 0, "энергия": -2}
        }
    },
    {
        "text": "6. Как проходит ваш рабочий день?",
        "options": {
            "Я что-то создаю": {"стресс": 0, "тревожность": 0, "позитив": 2, "энергия": 2},
            "Чем-то загружен(а) всё время": {"стресс": 2, "тревожность": 1, "позитив": 0, "энергия": 0},
            "Я скучаю": {"стресс": 1, "тревожность": 1, "позитив": -1, "энергия": -1},
            "Не могу работать": {"стресс": 2, "тревожность": 2, "позитив": -2, "энергия": -2}
        }
    },
    {
        "text": "7. У вас задержали приём у стоматолога на 30 минут. Что вы делаете?",
        "options": {
            "Читаю или слушаю музыку": {"стресс": 0, "тревожность": 0, "позитив": 2, "энергия": 1},
            "Нервничаю, боюсь дантиста": {"стресс": 2, "тревожность": 2, "позитив": -1, "энергия": -1},
            "Дремлю": {"стресс": 1, "тревожность": 0, "позитив": 1, "энергия": 0},
            "Смотрю на часы каждые 5 минут": {"стресс": 2, "тревожность": 1, "позитив": 0, "энергия": -1}
        }
    },
    {
        "text": "8. Сколько времени вы уделяете физической активности?",
        "options": {
            "Зарядка каждый день": {"стресс": 0, "тревожность": 0, "позитив": 2, "энергия": 2},
            "Часто начинаю, но бросаю": {"стресс": 1, "тревожность": 1, "позитив": 1, "энергия": 0},
            "2-3 раза в неделю": {"стресс": 0, "тревожность": 0, "позитив": 2, "энергия": 1},
            "Не занимаюсь совсем": {"стресс": 2, "тревожность": 1, "позитив": 0, "энергия": -2}
        }
    },
    {
        "text": "9. Как вы выглядите в последнее время на фото?",
        "options": {
            "Кривляюсь": {"стресс": 0, "тревожность": 0, "позитив": 2, "энергия": 1},
            "Угрюмое выражение": {"стресс": 2, "тревожность": 2, "позитив": -1, "энергия": -1},
            "Не нравлюсь себе": {"стресс": 2, "тревожность": 2, "позитив": -2, "энергия": -2},
            "Выгляжу улыбчиво": {"стресс": 0, "тревожность": 0, "позитив": 3, "энергия": 2}
        }
    }
]

question_states = [Q1, Q2, Q3, Q4, Q5, Q6, Q7, Q8, Q9]